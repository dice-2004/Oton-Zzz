# 🎤 発表会用設定

## ⏱️ タイミング設定

### 変更内容

**元の設定（実用版）:**
- Stage 1検出: 目を閉じて4秒
- Stage 1→2: 60秒警告（1分カウントダウン）
- 合計: **約64秒**

**発表会用設定（デモ版）:**
- Stage 1検出: 目を閉じて4秒
- Stage 1→2: 3秒警告
- 合計: **約7秒** ⚡

---

## 🎬 発表会でのデモフロー

### タイムライン

```
0秒: テレビON、視聴開始
     🟢 システム: ACTIVE
     👀 カメラで顔検出中

4秒: 目を閉じる → Stage 1検出
     ⚠️  "STAGE 1 DETECTED! 3秒後にOFF"
     🟡 黄LED点滅
     🔊 音声: "寝てるね。3秒後にテレビ消すよ。"

7秒: Stage 2確定
     😴 "STAGE 2 CONFIRMED! 睡眠確定"
     🔴 赤LED点灯
     🔊 音声: "はい、時間です。テレビ消しまーす..."
     📡 IR送信 → テレビOFF
     💤 システム: SLEEP

--- SLEEP状態（待機中）---

リモコン操作: テレビON
     📺 テレビ: OFF → ON
     🟢 システム: SLEEP → ACTIVE
     🔊 音声: "テレビがつきました。睡眠検出を開始します。"
     ループ...
```

---

## 📝 音声メッセージ

### Stage 1（3秒警告）
```
"寝てるね。3秒後にテレビ消すよ。"
```

### Stage 2（電源OFF）
ランダムで以下のいずれか：
- "はい、時間です。テレビ消しまーす。おやすみなさい。"
- "完全に寝てるね。電源オフにします。"
- "お疲れ様でした。テレビを消灯します。"
- "寝落ち確定。テレビ切りまーす。"
- "それでは、お休みなさいませ。"

### キャンセル（警告中に起きた場合）
ランダムで以下のいずれか：
- "おっ、起きてたんだ。じゃあテレビつけといてあげる。"
- "了解。引き続きご視聴ください。"
- "お、動いた。テレビはそのままにしとくね。"
- "はいはい、起きてますね。キャンセルしました。"
- "ちゃんと見てたのね。失礼しました。"

---

## 🚀 実行

### ヘッドレス版（SSH経由OK）
```bash
source /home/hxs_jphacks/Oton-Zzz/.venv/bin/activate
python3 oton_zzz_headless.py
```

### GUI版（ラズパイ本体でHDMI接続時）
```bash
source /home/hxs_jphacks/Oton-Zzz/.venv/bin/activate
python3 oton_zzz_phase1.py
```

---

## 💡 発表会デモのポイント

### 1. スピーディーなデモ（約15秒）
```
1. プログラム起動を見せる
2. 目を閉じる（4秒）
3. Stage 1警告 → 音声再生
4. 3秒待つ
5. Stage 2 → テレビOFF → 拍手！👏
```

### 2. リモコン連動を見せる
```
1. SLEEP状態を確認
2. リモコンボタンを押す
3. テレビON検出 → ACTIVE復帰
4. 「ちゃんと同期してます！」
```

### 3. キャンセル機能を見せる
```
1. 目を閉じる → Stage 1
2. 警告音声が流れる
3. すぐに目を開ける
4. キャンセル音声 → 「起きてた検出もできます！」
```

---

## 🎯 デモシナリオ例

### パターンA: フルデモ（30秒）
```
司会: 「それではOton-Zzzのデモを行います」

1. [0-5秒] システム起動
   - 「おとんずずず、起動しました」

2. [5-10秒] 目を閉じて寝落ち演出
   - Stage 1検出
   - 「寝てるね。3秒後にテレビ消すよ。」

3. [10-15秒] Stage 2実行
   - 「テレビ消しまーす」
   - IR送信 → M5StickC（TVモック）がOFF

4. [15-20秒] リモコンで復帰
   - リモコンボタンを押す
   - 「テレビがつきました」
   - システムACTIVE復帰

5. [20-25秒] キャンセルデモ
   - 目を閉じる → 警告
   - すぐ目を開ける → キャンセル
   - 「おっ、起きてたんだ」

6. [25-30秒] 締め
   - 「以上、Oton-Zzzのデモでした！」
```

### パターンB: クイックデモ（15秒）
```
1. 起動 → 目を閉じる
2. Stage 1 → Stage 2 → テレビOFF
3. 「こんな感じで自動で消えます！」
```

---

## 🔧 実用版に戻す場合

`final_confirmation_time` を60.0に変更：

```python
detector = SleepDetector(
    gauge_max=4.0,
    gauge_decrease_rate=1.5,
    final_confirmation_time=60.0  # 実用版: 1分警告
)
```

音声も元に戻す：
```python
voice.speak_warning(remaining_seconds=60)
```

---

## ✅ 準備完了！

発表会頑張ってください！🎉
